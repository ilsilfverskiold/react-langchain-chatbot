{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseObjectDef = exports.parseObjectDefX = void 0;\nconst parseDef_1 = require(\"../parseDef\");\nfunction parseObjectDefX(def, refs) {\n  var _a, _b;\n  Object.keys(def.shape()).reduce((schema, key) => {\n    let prop = def.shape()[key];\n    const isOptional = prop.isOptional();\n    if (!isOptional) {\n      prop = Object.assign({}, prop._def.innerSchema);\n    }\n    const propSchema = (0, parseDef_1.parseDef)(prop._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath, \"properties\", key],\n      propertyPath: [...refs.currentPath, \"properties\", key]\n    }));\n    if (propSchema !== undefined) {\n      schema.properties[key] = propSchema;\n      if (!isOptional) {\n        if (!schema.required) {\n          schema.required = [];\n        }\n        schema.required.push(key);\n      }\n    }\n    return schema;\n  }, {\n    type: \"object\",\n    properties: {},\n    additionalProperties: def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : (_a = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }))) !== null && _a !== void 0 ? _a : true\n  });\n  const result = Object.assign(Object.assign({\n    type: \"object\"\n  }, Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n    if (propDef === undefined || propDef._def === undefined) return acc;\n    const parsedDef = (0, parseDef_1.parseDef)(propDef._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath, \"properties\", propName],\n      propertyPath: [...refs.currentPath, \"properties\", propName]\n    }));\n    if (parsedDef === undefined) return acc;\n    return {\n      properties: Object.assign(Object.assign({}, acc.properties), {\n        [propName]: parsedDef\n      }),\n      required: propDef.isOptional() ? acc.required : [...acc.required, propName]\n    };\n  }, {\n    properties: {},\n    required: []\n  })), {\n    additionalProperties: def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : (_b = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }))) !== null && _b !== void 0 ? _b : true\n  });\n  if (!result.required.length) delete result.required;\n  return result;\n}\nexports.parseObjectDefX = parseObjectDefX;\nfunction parseObjectDef(def, refs) {\n  var _a;\n  const result = Object.assign(Object.assign({\n    type: \"object\"\n  }, Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n    if (propDef === undefined || propDef._def === undefined) return acc;\n    const parsedDef = (0, parseDef_1.parseDef)(propDef._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath, \"properties\", propName],\n      propertyPath: [...refs.currentPath, \"properties\", propName]\n    }));\n    if (parsedDef === undefined) return acc;\n    return {\n      properties: Object.assign(Object.assign({}, acc.properties), {\n        [propName]: parsedDef\n      }),\n      required: propDef.isOptional() ? acc.required : [...acc.required, propName]\n    };\n  }, {\n    properties: {},\n    required: []\n  })), {\n    additionalProperties: def.catchall._def.typeName === \"ZodNever\" ? def.unknownKeys === \"passthrough\" : (_a = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    }))) !== null && _a !== void 0 ? _a : true\n  });\n  if (!result.required.length) delete result.required;\n  return result;\n}\nexports.parseObjectDef = parseObjectDef;","map":{"version":3,"names":["Object","defineProperty","exports","value","parseObjectDef","parseObjectDefX","parseDef_1","require","def","refs","_a","_b","keys","shape","reduce","schema","key","prop","isOptional","assign","_def","innerSchema","propSchema","parseDef","currentPath","propertyPath","undefined","properties","required","push","type","additionalProperties","catchall","typeName","unknownKeys","result","entries","acc","propName","propDef","parsedDef","length"],"sources":["/Users/idasilfverskiold/gptSandbox/reactlangchain/sandbox/node_modules/zod-to-json-schema/src/parsers/object.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseObjectDef = exports.parseObjectDefX = void 0;\nconst parseDef_1 = require(\"../parseDef\");\nfunction parseObjectDefX(def, refs) {\n    var _a, _b;\n    Object.keys(def.shape()).reduce((schema, key) => {\n        let prop = def.shape()[key];\n        const isOptional = prop.isOptional();\n        if (!isOptional) {\n            prop = Object.assign({}, prop._def.innerSchema);\n        }\n        const propSchema = (0, parseDef_1.parseDef)(prop._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"properties\", key], propertyPath: [...refs.currentPath, \"properties\", key] }));\n        if (propSchema !== undefined) {\n            schema.properties[key] = propSchema;\n            if (!isOptional) {\n                if (!schema.required) {\n                    schema.required = [];\n                }\n                schema.required.push(key);\n            }\n        }\n        return schema;\n    }, {\n        type: \"object\",\n        properties: {},\n        additionalProperties: def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : (_a = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"additionalProperties\"] }))) !== null && _a !== void 0 ? _a : true,\n    });\n    const result = Object.assign(Object.assign({ type: \"object\" }, Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n        if (propDef === undefined || propDef._def === undefined)\n            return acc;\n        const parsedDef = (0, parseDef_1.parseDef)(propDef._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"properties\", propName], propertyPath: [...refs.currentPath, \"properties\", propName] }));\n        if (parsedDef === undefined)\n            return acc;\n        return {\n            properties: Object.assign(Object.assign({}, acc.properties), { [propName]: parsedDef }),\n            required: propDef.isOptional()\n                ? acc.required\n                : [...acc.required, propName],\n        };\n    }, { properties: {}, required: [] })), { additionalProperties: def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : (_b = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"additionalProperties\"] }))) !== null && _b !== void 0 ? _b : true });\n    if (!result.required.length)\n        delete result.required;\n    return result;\n}\nexports.parseObjectDefX = parseObjectDefX;\nfunction parseObjectDef(def, refs) {\n    var _a;\n    const result = Object.assign(Object.assign({ type: \"object\" }, Object.entries(def.shape()).reduce((acc, [propName, propDef]) => {\n        if (propDef === undefined || propDef._def === undefined)\n            return acc;\n        const parsedDef = (0, parseDef_1.parseDef)(propDef._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"properties\", propName], propertyPath: [...refs.currentPath, \"properties\", propName] }));\n        if (parsedDef === undefined)\n            return acc;\n        return {\n            properties: Object.assign(Object.assign({}, acc.properties), { [propName]: parsedDef }),\n            required: propDef.isOptional()\n                ? acc.required\n                : [...acc.required, propName],\n        };\n    }, { properties: {}, required: [] })), { additionalProperties: def.catchall._def.typeName === \"ZodNever\"\n            ? def.unknownKeys === \"passthrough\"\n            : (_a = (0, parseDef_1.parseDef)(def.catchall._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"additionalProperties\"] }))) !== null && _a !== void 0 ? _a : true });\n    if (!result.required.length)\n        delete result.required;\n    return result;\n}\nexports.parseObjectDef = parseObjectDef;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}