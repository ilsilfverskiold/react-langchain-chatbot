{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.zodToJsonSchema = void 0;\nconst parseDef_1 = require(\"./parseDef\");\nconst Refs_1 = require(\"./Refs\");\nconst zodToJsonSchema = (schema, options) => {\n  var _a;\n  const refs = (0, Refs_1.getRefs)(options);\n  const definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce((acc, [name, schema]) => {\n    var _a;\n    return Object.assign(Object.assign({}, acc), {\n      [name]: (_a = (0, parseDef_1.parseDef)(schema._def, Object.assign(Object.assign({}, refs), {\n        currentPath: [...refs.basePath, refs.definitionPath, name]\n      }), true)) !== null && _a !== void 0 ? _a : {}\n    });\n  }, {}) : undefined;\n  const name = typeof options === \"string\" ? options : options === null || options === void 0 ? void 0 : options.name;\n  const main = (_a = (0, parseDef_1.parseDef)(schema._def, name === undefined ? refs : Object.assign(Object.assign({}, refs), {\n    currentPath: [...refs.basePath, refs.definitionPath, name]\n  }), false)) !== null && _a !== void 0 ? _a : {};\n  const combined = name === undefined ? definitions ? Object.assign(Object.assign({}, main), {\n    [refs.definitionPath]: definitions\n  }) : main : {\n    $ref: [...(refs.$refStrategy === \"relative\" ? [] : refs.basePath), refs.definitionPath, name].join(\"/\"),\n    [refs.definitionPath]: Object.assign(Object.assign({}, definitions), {\n      [name]: main\n    })\n  };\n  if (refs.target === \"jsonSchema7\") {\n    combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n  } else if (refs.target === \"jsonSchema2019-09\") {\n    combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n  }\n  return combined;\n};\nexports.zodToJsonSchema = zodToJsonSchema;","map":{"version":3,"names":["Object","defineProperty","exports","value","zodToJsonSchema","parseDef_1","require","Refs_1","schema","options","_a","refs","getRefs","definitions","entries","reduce","acc","name","assign","parseDef","_def","currentPath","basePath","definitionPath","undefined","main","combined","$ref","$refStrategy","join","target","$schema"],"sources":["/Users/idasilfverskiold/gptSandbox/reactlangchain/sandbox/node_modules/zod-to-json-schema/src/zodToJsonSchema.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.zodToJsonSchema = void 0;\nconst parseDef_1 = require(\"./parseDef\");\nconst Refs_1 = require(\"./Refs\");\nconst zodToJsonSchema = (schema, options) => {\n    var _a;\n    const refs = (0, Refs_1.getRefs)(options);\n    const definitions = typeof options === \"object\" && options.definitions\n        ? Object.entries(options.definitions).reduce((acc, [name, schema]) => {\n            var _a;\n            return (Object.assign(Object.assign({}, acc), { [name]: (_a = (0, parseDef_1.parseDef)(schema._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.basePath, refs.definitionPath, name] }), true)) !== null && _a !== void 0 ? _a : {} }));\n        }, {})\n        : undefined;\n    const name = typeof options === \"string\" ? options : options === null || options === void 0 ? void 0 : options.name;\n    const main = (_a = (0, parseDef_1.parseDef)(schema._def, name === undefined\n        ? refs\n        : Object.assign(Object.assign({}, refs), { currentPath: [...refs.basePath, refs.definitionPath, name] }), false)) !== null && _a !== void 0 ? _a : {};\n    const combined = name === undefined\n        ? definitions\n            ? Object.assign(Object.assign({}, main), { [refs.definitionPath]: definitions }) : main\n        : {\n            $ref: [\n                ...(refs.$refStrategy === \"relative\" ? [] : refs.basePath),\n                refs.definitionPath,\n                name,\n            ].join(\"/\"),\n            [refs.definitionPath]: Object.assign(Object.assign({}, definitions), { [name]: main }),\n        };\n    if (refs.target === \"jsonSchema7\") {\n        combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n    }\n    else if (refs.target === \"jsonSchema2019-09\") {\n        combined.$schema = \"https://json-schema.org/draft/2019-09/schema#\";\n    }\n    return combined;\n};\nexports.zodToJsonSchema = zodToJsonSchema;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}