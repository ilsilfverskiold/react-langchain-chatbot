{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseNullableDef = void 0;\nconst parseDef_1 = require(\"../parseDef\");\nconst union_1 = require(\"./union\");\nfunction parseNullableDef(def, refs) {\n  if ([\"ZodString\", \"ZodNumber\", \"ZodBigInt\", \"ZodBoolean\", \"ZodNull\"].includes(def.innerType._def.typeName) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n    if (refs.target === \"openApi3\") {\n      return {\n        type: union_1.primitiveMappings[def.innerType._def.typeName],\n        nullable: true\n      };\n    }\n    return {\n      type: [union_1.primitiveMappings[def.innerType._def.typeName], \"null\"]\n    };\n  }\n  if (refs.target === \"openApi3\") {\n    const base = (0, parseDef_1.parseDef)(def.innerType._def, Object.assign(Object.assign({}, refs), {\n      currentPath: [...refs.currentPath]\n    }));\n    return base && Object.assign(Object.assign({}, base), {\n      nullable: true\n    });\n  }\n  const base = (0, parseDef_1.parseDef)(def.innerType._def, Object.assign(Object.assign({}, refs), {\n    currentPath: [...refs.currentPath, \"anyOf\", \"0\"]\n  }));\n  return base && {\n    anyOf: [base, {\n      type: \"null\"\n    }]\n  };\n}\nexports.parseNullableDef = parseNullableDef;","map":{"version":3,"names":["Object","defineProperty","exports","value","parseNullableDef","parseDef_1","require","union_1","def","refs","includes","innerType","_def","typeName","checks","length","target","type","primitiveMappings","nullable","base","parseDef","assign","currentPath","anyOf"],"sources":["/Users/idasilfverskiold/gptSandbox/reactlangchain/sandbox/node_modules/zod-to-json-schema/src/parsers/nullable.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseNullableDef = void 0;\nconst parseDef_1 = require(\"../parseDef\");\nconst union_1 = require(\"./union\");\nfunction parseNullableDef(def, refs) {\n    if ([\"ZodString\", \"ZodNumber\", \"ZodBigInt\", \"ZodBoolean\", \"ZodNull\"].includes(def.innerType._def.typeName) &&\n        (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n        if (refs.target === \"openApi3\") {\n            return {\n                type: union_1.primitiveMappings[def.innerType._def.typeName],\n                nullable: true,\n            };\n        }\n        return {\n            type: [\n                union_1.primitiveMappings[def.innerType._def.typeName],\n                \"null\",\n            ],\n        };\n    }\n    if (refs.target === \"openApi3\") {\n        const base = (0, parseDef_1.parseDef)(def.innerType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath] }));\n        return base && Object.assign(Object.assign({}, base), { nullable: true });\n    }\n    const base = (0, parseDef_1.parseDef)(def.innerType._def, Object.assign(Object.assign({}, refs), { currentPath: [...refs.currentPath, \"anyOf\", \"0\"] }));\n    return base && { anyOf: [base, { type: \"null\" }] };\n}\nexports.parseNullableDef = parseNullableDef;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,MAAMC,UAAU,GAAGC,OAAO,CAAC,aAAa,CAAC;AACzC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAClC,SAASF,gBAAgBA,CAACI,GAAG,EAAEC,IAAI,EAAE;EACjC,IAAI,CAAC,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,EAAE,SAAS,CAAC,CAACC,QAAQ,CAACF,GAAG,CAACG,SAAS,CAACC,IAAI,CAACC,QAAQ,CAAC,KACrG,CAACL,GAAG,CAACG,SAAS,CAACC,IAAI,CAACE,MAAM,IAAI,CAACN,GAAG,CAACG,SAAS,CAACC,IAAI,CAACE,MAAM,CAACC,MAAM,CAAC,EAAE;IACnE,IAAIN,IAAI,CAACO,MAAM,KAAK,UAAU,EAAE;MAC5B,OAAO;QACHC,IAAI,EAAEV,OAAO,CAACW,iBAAiB,CAACV,GAAG,CAACG,SAAS,CAACC,IAAI,CAACC,QAAQ,CAAC;QAC5DM,QAAQ,EAAE;MACd,CAAC;IACL;IACA,OAAO;MACHF,IAAI,EAAE,CACFV,OAAO,CAACW,iBAAiB,CAACV,GAAG,CAACG,SAAS,CAACC,IAAI,CAACC,QAAQ,CAAC,EACtD,MAAM;IAEd,CAAC;EACL;EACA,IAAIJ,IAAI,CAACO,MAAM,KAAK,UAAU,EAAE;IAC5B,MAAMI,IAAI,GAAG,CAAC,CAAC,EAAEf,UAAU,CAACgB,QAAQ,EAAEb,GAAG,CAACG,SAAS,CAACC,IAAI,EAAEZ,MAAM,CAACsB,MAAM,CAACtB,MAAM,CAACsB,MAAM,CAAC,CAAC,CAAC,EAAEb,IAAI,CAAC,EAAE;MAAEc,WAAW,EAAE,CAAC,GAAGd,IAAI,CAACc,WAAW;IAAE,CAAC,CAAC,CAAC;IACzI,OAAOH,IAAI,IAAIpB,MAAM,CAACsB,MAAM,CAACtB,MAAM,CAACsB,MAAM,CAAC,CAAC,CAAC,EAAEF,IAAI,CAAC,EAAE;MAAED,QAAQ,EAAE;IAAK,CAAC,CAAC;EAC7E;EACA,MAAMC,IAAI,GAAG,CAAC,CAAC,EAAEf,UAAU,CAACgB,QAAQ,EAAEb,GAAG,CAACG,SAAS,CAACC,IAAI,EAAEZ,MAAM,CAACsB,MAAM,CAACtB,MAAM,CAACsB,MAAM,CAAC,CAAC,CAAC,EAAEb,IAAI,CAAC,EAAE;IAAEc,WAAW,EAAE,CAAC,GAAGd,IAAI,CAACc,WAAW,EAAE,OAAO,EAAE,GAAG;EAAE,CAAC,CAAC,CAAC;EACvJ,OAAOH,IAAI,IAAI;IAAEI,KAAK,EAAE,CAACJ,IAAI,EAAE;MAAEH,IAAI,EAAE;IAAO,CAAC;EAAE,CAAC;AACtD;AACAf,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}